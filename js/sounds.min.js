const SoundManager={sounds:{click:null,hover:null,start:null,achievement:null,transition:null},settings:{enabled:!0,volume:.5},init(){this.sounds.click=document.getElementById("click-sound"),this.sounds.hover=document.getElementById("hover-sound"),this.sounds.start=document.getElementById("start-sound"),this.loadSettings(),this.applyVolumeSettings(),this.createAdditionalSounds()},createAdditionalSounds(){this.sounds.achievement=new Audio,this.sounds.achievement.src="assets/sounds/achievement.mp3",this.sounds.achievement.preload="auto",this.sounds.transition=new Audio,this.sounds.transition.src="assets/sounds/transition.mp3",this.sounds.transition.preload="auto",this.sounds.achievement.volume=this.settings.volume,this.sounds.transition.volume=this.settings.volume},play(t){if(!this.settings.enabled)return;const e=this.sounds[t];e&&(e.currentTime=0,e.play().catch(t=>{console.warn(`Sound playback was prevented: ${t}`)}))},toggleSound(){return this.settings.enabled=!this.settings.enabled,this.saveSettings(),this.settings.enabled},setVolume(t){this.settings.volume=t,this.applyVolumeSettings(),this.saveSettings()},applyVolumeSettings(){for(const t in this.sounds){const e=this.sounds[t];e&&(e.volume=this.settings.volume)}},saveSettings(){try{const t={enabled:this.settings.enabled,volume:this.settings.volume};localStorage.setItem("sound_settings",JSON.stringify(t))}catch(t){console.warn("Could not save sound settings:",t)}},loadSettings(){try{const t=localStorage.getItem("sound_settings");if(t){const e=JSON.parse(t);this.settings.enabled=e.enabled,this.settings.volume=e.volume}}catch(t){console.warn("Could not load sound settings:",t)}}};function setupSoundEventListeners(){document.addEventListener("click",t=>{(t.target.closest(".game-button")||t.target.closest(".menu-button")||t.target.closest(".back-button"))&&SoundManager.play("click"),t.target.closest(".achievement-icon")&&SoundManager.play("achievement")});document.querySelectorAll(".game-button, .menu-button, .back-button, .dialogue-option").forEach(t=>{t.addEventListener("mouseenter",()=>{SoundManager.play("hover")})});const t=document.getElementById("toggle-sound");t&&t.addEventListener("click",()=>{const e=SoundManager.toggleSound(),n=t.querySelector("i");n&&(n.className=e?"fas fa-volume-up":"fas fa-volume-mute"),e&&SoundManager.play("click")});document.querySelectorAll(".menu-button").forEach(t=>{t.addEventListener("click",()=>{SoundManager.play("transition")})});document.querySelectorAll(".back-button").forEach(t=>{t.addEventListener("click",()=>{SoundManager.play("transition")})});const e=document.getElementById("start-button");e&&e.addEventListener("click",()=>{SoundManager.play("start")})}document.addEventListener("DOMContentLoaded",()=>{SoundManager.init(),setupSoundEventListeners()}),document.addEventListener("keydown",t=>{if("Enter"===t.key||" "===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key){const t=document.activeElement;("BUTTON"===t.tagName||"A"===t.tagName||t.classList.contains("menu-button")||t.classList.contains("game-button"))&&SoundManager.play("hover")}}),window.SoundManager=SoundManager;